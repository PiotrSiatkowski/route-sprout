"use strict";var S=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var g=(n,e)=>{for(var o in e)S(n,o,{get:e[o],enumerable:!0})},k=(n,e,o,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of h(e))!y.call(n,a)&&a!==o&&S(n,a,{get:()=>e[a],enumerable:!(s=u(e,a))||s.enumerable});return n};var D=n=>k(S({},"__esModule",{value:!0}),n);var A={};g(A,{keep:()=>P,path:()=>d,root:()=>x,slot:()=>R,wrap:()=>w});module.exports=D(A);var P=()=>({kind:"keep"}),d=(n,e)=>({kind:"path",name:n,rest:e??[]}),R=(n,e)=>({kind:"slot",name:n,rest:e??[]}),w=(n,e,o)=>({kind:"wrap",name:n,when:e,rest:o??[]}),l=(n,e)=>`${n.filter(Boolean).join("/")}${e?`?${e}`:""}`.replace("//","/");function x(n){return m([],d("/",n))}function m(n,e){let o=t=>t.rest.some(r=>r.kind==="keep"),s=e.kind==="slot"||e.kind==="wrap"?n:e.name?[...n,e.name]:n,a=o(e)?t=>l(s,t):{};for(let t of e.rest)t.kind==="slot"?t.rest.length===0?a[t.name]=r=>i=>l([...s,r],i):a[t.name]=r=>{let i=m([...s,r],t);return Object.assign(o(t)?c=>l([...s,r],c):{},i)}:t.kind==="path"?t.rest.length===0?a[t.name]=r=>l([...s,t.name],r):a[t.name]=m(s,t):t.kind==="wrap"&&(a[t.name]=r=>{let c=t.when(r)?[...s,t.name]:s,p=m(c,t);return Object.assign(o(t)?f=>l(c,f):{},p)});return N(a,s,e.rest)}function N(n,e,o){return n.when=(s,a)=>m(s?[...e,...Array.isArray(a)?a:[a]]:e,d("",o)),n.join=s=>m([...e,...Array.isArray(s)?s:[s]],d("",o)),n}0&&(module.exports={keep,path,root,slot,wrap});
//# sourceMappingURL=api.cjs.map